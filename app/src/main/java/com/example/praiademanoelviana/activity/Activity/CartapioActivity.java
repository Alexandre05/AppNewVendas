package com.example.praiademanoelviana.activity.Activity;import androidx.appcompat.app.AppCompatActivity;import androidx.appcompat.widget.Toolbar;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import android.os.Bundle;import android.widget.ImageView;import android.widget.TextView;import com.example.praiademanoelviana.R;import com.example.praiademanoelviana.activity.Adpter.AdapterProduto;import com.example.praiademanoelviana.activity.Helper.ConfiruFirebase;import com.example.praiademanoelviana.activity.model.Empresa;import com.example.praiademanoelviana.activity.model.Produto;import com.google.firebase.database.DataSnapshot;import com.google.firebase.database.DatabaseError;import com.google.firebase.database.DatabaseReference;import com.google.firebase.database.ValueEventListener;import com.squareup.picasso.Picasso;import java.util.ArrayList;import java.util.List;public class CartapioActivity extends AppCompatActivity {private RecyclerView recyclerProdutosCardapio;private ImageView imagensEmpresaCardapio;private TextView tNomeEmpresaCardapio;private Empresa empresaSelecionada;    private AdapterProduto adapterProduto;    private List<Produto> produtos = new ArrayList<>();    private DatabaseReference firebaseRef;    private String idEmpresa;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_cartapio);        inicializarComponentes();        firebaseRef = ConfiruFirebase.getFirebase();// recuper empresa selecionada        Bundle bundle = getIntent().getExtras();        if( bundle != null ){            empresaSelecionada = (Empresa) bundle.getSerializable("empresas");            tNomeEmpresaCardapio.setText( empresaSelecionada.getNome() );            idEmpresa = empresaSelecionada.getIdUsuario();            String url = empresaSelecionada.getUrlImagem();            Picasso.get().load(url).into(imagensEmpresaCardapio);        }//Configurações Toolbar        Toolbar toolbar = findViewById(R.id.toolbarNova);        toolbar.setTitle("Opções de Produtos");        setSupportActionBar(toolbar);        getSupportActionBar().setDisplayHomeAsUpEnabled(true);        recyclerProdutosCardapio.setLayoutManager(new LinearLayoutManager(this));        recyclerProdutosCardapio.setHasFixedSize(true);        adapterProduto = new AdapterProduto(produtos, this);        recyclerProdutosCardapio.setAdapter(adapterProduto);        //Recupera produtos para empresa        recuperarProdutos();    }        private void recuperarProdutos(){            DatabaseReference produtosRef = firebaseRef                    .child("produtos")                    .child( idEmpresa );            produtosRef.addValueEventListener(new ValueEventListener() {                @Override                public void onDataChange(DataSnapshot dataSnapshot) {                    produtos.clear();                    for (DataSnapshot ds: dataSnapshot.getChildren()){                        produtos.add( ds.getValue(Produto.class) );                    }                    adapterProduto.notifyDataSetChanged();                }                @Override                public void onCancelled(DatabaseError databaseError) {                }            });        }    private  void inicializarComponentes(){        recyclerProdutosCardapio = findViewById(R.id.recyclerProdutoCardapio);imagensEmpresaCardapio = findViewById(R.id.imageEmpresaCardapio);tNomeEmpresaCardapio = findViewById(R.id.textNomeEmpresaCardapio);    }}